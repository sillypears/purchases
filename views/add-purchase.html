<!-- views/index.html -->

<form class="form" action="/add-purchase"  enctype="multipart/form-data" method="POST">
    <select class="select" id="category" name="category">
        <option id="option-default" name="default" value="-1">Select Category</option>
        <% for ( let category of categories) { %>
            <option id="option-<%= category.name %>" name="category" value="<%= category.id %>" ><%= category.display_name %> </option>
        <% }; %>
    </select><br />
    <input type="text" id="detail" name="detail" placeholder="Detail"/><br />
    <input type="text" id="set" name="set" placeholder="Set"/><br />
    
    <select class="select" id="maker" name="maker">
        <option id="option-default" name="default" value="-1">Select Maker</option>

        <% for ( let maker of makers) { %>
            <option id="option-<%= maker.name %>" name="maker" value=<%= maker.id %> ><%= maker.display_name %> </option>
        <% }; %>
    </select><br />
    
    <select class="select" id="vendor" name="vendor">
        <option id="option-default" name="default" value="-1">Select Vendor</option>

        <% for ( let vendor of vendors) { %>
            <option id="option-<%= vendor.name %>" name="vendor" value=<%= vendor.id  %> ><%= vendor.display_name %> </option>
        <% }; %>
    </select><br />
    <input type="number" id="price" name="price" step="0.01" placeholder="Price $"/><br />
    <input type="number" id="adjustments" name="adjustments" step="0.01" placeholder="Adjustments $"/><br />

    <select class="select" id="saletype" name="saletype">
        <option id="option-default" name="default" value="-1">Select Sale Type</option>

        <% for ( let saleType of saleTypes) { %>
            <option id="option-<%= saleType.name %>" name="saleType" value=<%= saleType.id %> ><%= saleType.display_name %> </option>
        <% }; %>
    </select><br />

    <input type="text" id="purchaseDate" class="date" name="purchaseDate" placeholder="Purchase Date" onfocus="(this.type='date')"/><br />
    <input type="text" id="expectedDate" class="date" name="expectedDate" placeholder="Expected Date" onfocus="(this.type='date')"/><br />
    <input type="number" id="orderSet" name="orderSet" placeholder="Set Number" value="<%= maxSet %>"/><br />
    <input type="file" id="image" name="image" /><br />
    <button type="submit" id="submit" class="btn-success">Add Purchase!</button>
</form>

<div id='ticker'>
    <% if (ticker.insertId) { %>
        <div class="alert-success">Added id: <%= ticker.insertId %>
        </div>
    <% } %>
    <% if (ticker.error) { %>
        <div class="alert-danger">
            <%= ticker.error %>
        </div>
    <% } %>
</div>